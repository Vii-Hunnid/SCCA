# ═══════════════════════════════════════════════════════════════════════════════
# DATABASE
# ═══════════════════════════════════════════════════════════════════════════════

DATABASE_URL="postgresql://postgres:yourpassword@prisma.io:5432/scca?schema=public"
DIRECT_URL="postgres://postgres:yourpassword@prisma.io:5432/postgres?sslmode=require"

echo 'DATABASE_URL="paste-your-database-url-here"' > .env
echo 'DIRECT_URL="paste-your-direct-url-here"' >> .env
npx prisma db push
rm .env  # delete after so you don't commit it

# ═══════════════════════════════════════════════════════════════════════════════
# DATABASE
# ═══════════════════════════════════════════════════════════════════════════════

# ═══════════════════════════════════════════════════════════════════════════════
# AUTHENTICATION (NextAuth.js)
# ═══════════════════════════════════════════════════════════════════════════════

NEXTAUTH_URL="http://localhost:3000"
NEXTAUTH_SECRET="your-nextauth-secret-min-32-characters-long"

# ═══════════════════════════════════════════════════════════════════════════════
# ENCRYPTION
# Master secret for key derivation - 32 bytes, base64 encoded
# Generate with: node -e "console.log(require('crypto').randomBytes(32).toString('base64'))"
# ═══════════════════════════════════════════════════════════════════════════════

MASTER_KEY_SECRET="your-base64-encoded-32-byte-master-secret-here="

# ═══════════════════════════════════════════════════════════════════════════════
# AI PROVIDER (Groq)
# ═══════════════════════════════════════════════════════════════════════════════

GROQ_API_KEY="gsk_your-groq-api-key"
DEFAULT_MODEL="llama-3.3-70b-versatile"

# ═══════════════════════════════════════════════════════════════════════════════
# APPLICATION
# ═══════════════════════════════════════════════════════════════════════════════

NODE_ENV="development"
NEXT_PUBLIC_APP_URL="http://localhost:3000"

# ═══════════════════════════════════════════════════════════════════════════════
# POLAR.SH (Billing & Payments)
# Organization access token from Polar dashboard → Settings → Developers
# Webhook secret from Polar dashboard → Settings → Webhooks
# ═══════════════════════════════════════════════════════════════════════════════

POLAR_ACCESS_TOKEN="polar_at_your-organization-access-token"
POLAR_WEBHOOK_SECRET="your-webhook-signing-secret"
POLAR_ENVIRONMENT="sandbox"  # "sandbox" or "production"

# Map Polar product IDs to SCCA tiers (valid JSON — no wrapping quotes)
# In Vercel, set the VALUE to just: {"your-product-uuid":"tier_1"}
# POLAR_TIER_MAP={"prod_xxx":"tier_1","prod_yyy":"tier_2"}

# Fallback: If POLAR_TIER_MAP is not set or fails to parse, use this single product ID
# POLAR_DEFAULT_PRODUCT_ID="your-product-uuid"
